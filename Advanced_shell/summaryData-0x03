#!/bin/bash
# Script to summarize PokÃ©mon data and calculate averages

output_file="pokemon_report.csv"
echo "Name,Height (m),Weight (kg)" > "$output_file"

# Loop through all JSON files
for file in pokemon_data/*.json; do
  name=$(jq -r '.name' "$file" | awk '{print toupper(substr($0,1,1)) substr($0,2)}')
  height=$(jq '.height' "$file" | awk '{printf "%.2f", $1/10}')
  weight=$(jq '.weight' "$file" | awk '{printf "%.1f", $1/10}')
  echo "$name,$height,$weight" >> "$output_file"
done

echo -e "\nCSV Report generated at: $output_file\n"
cat "$output_file"

# Calculate averages
awk -F',' 'NR>1 {h+=$2; w+=$3; count++} END {printf "\nAverage Height: %.2f m\nAverage Weight: %.2f kg\n", h/count, w/count}' "$output_file"
